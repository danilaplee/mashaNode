(function(b,h,f){"use strict";var c=h.$,d=e,a=d.prototype,g="ivideon.utils.ScrollableView";h.provide(g,d);function e(i){var j=this;j._options=h.optClass(d.defaults,i,g,j,{$wrapper:"wrapper"});if(!j.$wrapper[0]){throw new h.utils.ArgumentError(g+': Argument "options.wrapper" is incorrect.')
}if(j.$wrapper.data(g)){throw new h.utils.ArgumentError(g+': Argument "options.wrapper" already processed.')}if(!b.iScroll){j._options.iscrollEnabled=false}if(!j._options.iscrollEnabled||!b.Modernizr.boxshadow){j._options.shadowLeftEnabled=false;
j._options.shadowRightEnabled=false;j._options.shadowTopEnabled=false;j._options.shadowBottomEnabled=false}j._eventNamespace=".ivideon-scrollable-"+h.now();j.$wrapper.data(g,j).addClass("ivideon-scrollable-wrapper"+(!!j._options.scrollHorizontalEnabled&&!!j._options.scrollVerticalEnabled?" iv-scrollable-HV":(!!j._options.scrollHorizontalEnabled?" iv-scrollable-H":"")+(!!j._options.scrollVerticalEnabled?" iv-scrollable-V":"")));
if(j._options.shadowLeftEnabled){j.$shadowLeft=c('<div class="ivideon-scroll-shadow-left" />').appendTo(j.$wrapper)}if(j._options.shadowRightEnabled){j.$shadowRight=c('<div class="ivideon-scroll-shadow-right" />').appendTo(j.$wrapper)
}if(j._options.shadowTopEnabled){j.$shadowTop=c('<div class="ivideon-scroll-shadow-top" />').appendTo(j.$wrapper)}if(j._options.shadowBottomEnabled){j.$shadowBottom=c('<div class="ivideon-scroll-shadow-bottom" />').appendTo(j.$wrapper)
}j.$scrollable=j.$wrapper.children(":first");if(j._options.shadowLeftEnabled||j._options.shadowRightEnabled||j._options.shadowTopEnabled||j._options.shadowBottomEnabled){j.$wrapper.addClass("ivideon-scroll-shadow-container");
j.$scrollable.addClass("ivideon-scrollable-target ivideon-scroll-shadow-target")}j._dragScrollStarted=false;j._pageYStart=null;if(j._options.iscrollEnabled){j.$scrollable.addClass("ivideon-scrollable-iscroll");
j._iscroll=new b.iScroll(j.$wrapper[0],h.optMerge(j._options.iscrollOptions,{hScroll:!!j._options.scrollHorizontalEnabled,vScroll:!!j._options.scrollVerticalEnabled,handleClick:false,handleDrag:b.Modernizr.touch,pointerEvents:true,scrollbarClass:"ivideon-scrollable-scrollbar",onScrollMove:c.proxy(j._onDragScrollMove,j),onTouchEnd:c.proxy(j._onDragScrollTouchEnd,j),onScrollEnd:c.proxy(j._onDragScrollEnd,j),onScrollPositionChanged:c.proxy(j._onScrollPositionChanged,j),onBeforeScrollStart:function(){},onRefresh:function(){if(j._state===d.STATE_DESTROYED){return
}if(j.$scrollbarHorizontalTrack){j.$scrollbarHorizontalTrack.off((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar")}if(j.$scrollbarHorizontalHandle){j.$scrollbarHorizontalHandle.off((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar")
}if(j.$scrollbarVerticalTrack){j.$scrollbarVerticalTrack.off((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar")}if(j.$scrollbarVerticalHandle){j.$scrollbarVerticalHandle.off((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar")
}j._pageXStart=null;j._pageYStart=null},onAfterRefresh:function(){if(j._state===d.STATE_DESTROYED){return}j.$scrollbarHorizontalTrack=j.$wrapper.find(".ivideon-scrollable-scrollbarH");j.$scrollbarHorizontalTrack.on((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar",function(m){if(j._state===d.STATE_DESTROYED){return
}if(m.which&&m.which!==1){return}var k=(m.originalEvent&&m.originalEvent.touches?m.originalEvent.touches[m.originalEvent.touches.length-1]:m),l=j.$scrollbarHorizontalHandle.width();j._pageXStart=k.pageX;
j._pageXDelta=l/2;j._handleScrollbarInteraction(m);j._pageXStart=null;m.preventDefault()});j.$scrollbarHorizontalHandle=j.$scrollbarHorizontalTrack.find("> div");j.$scrollbarHorizontalHandle.on((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar",function(l){if(j._state===d.STATE_DESTROYED){return
}if(l.which&&l.which!==1){return}var k=(l.originalEvent&&l.originalEvent.touches?l.originalEvent.touches[l.originalEvent.touches.length-1]:l),m=c(this).offset();j._pageXStart=k.pageX;j._pageXDelta=k.pageX-m.left;
j.$scrollbarHorizontalTrack.addClass("m-active");l.preventDefault();l.stopPropagation()});j.$scrollbarVerticalTrack=j.$wrapper.find(".ivideon-scrollable-scrollbarV");j.$scrollbarVerticalTrack.on((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar",function(m){if(j._state===d.STATE_DESTROYED){return
}if(m.which&&m.which!==1){return}var k=(m.originalEvent&&m.originalEvent.touches?m.originalEvent.touches[m.originalEvent.touches.length-1]:m),l=j.$scrollbarVerticalHandle.height();j._pageYStart=k.pageY;
j._pageYDelta=l/2;j._handleScrollbarInteraction(m);j._pageYStart=null;m.preventDefault()});j.$scrollbarVerticalHandle=j.$scrollbarVerticalTrack.find("> div");j.$scrollbarVerticalHandle.on((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar",function(l){if(j._state===d.STATE_DESTROYED){return
}if(l.which&&l.which!==1){return}var k=(l.originalEvent&&l.originalEvent.touches?l.originalEvent.touches[l.originalEvent.touches.length-1]:l),m=c(this).offset();j._pageYStart=k.pageY;j._pageYDelta=k.pageY-m.top;
j.$scrollbarVerticalTrack.addClass("m-active");l.preventDefault();l.stopPropagation()});j._updateShadows()}}));j.$wrapper.on(b.Modernizr.touch?"touchmove"+j._eventNamespace:"mousemove"+j._eventNamespace,function(k){if(j._state===d.STATE_DESTROYED){return
}if(j._pageXStart!==null||j._pageYStart!==null){k.preventDefault()}}).on("click"+j._eventNamespace,function(k){if(j._state===d.STATE_DESTROYED){return}if(j._dragScrollStarted){k.preventDefault()}else{if(c(k.target).is(".m-spoiler")){j.refresh()
}}}).on("elementresize"+j._eventNamespace,function(k){j.refresh()});c(b.document).on(b.Modernizr.touch?"touchmove"+j._eventNamespace:"mousemove"+j._eventNamespace,function(k){j._handleScrollbarInteraction(k)
});c(b.document).on((b.Modernizr.touch?"touchend"+j._eventNamespace+" touchcancel"+j._eventNamespace:"mouseup"+j._eventNamespace+" mouseleave"+j._eventNamespace),function(k){if(j._state===d.STATE_DESTROYED){return
}if(j._pageXStart!==null){j._pageXStart=null;j.$scrollbarHorizontalTrack.removeClass("m-active");k.preventDefault()}if(j._pageYStart!==null){j._pageYStart=null;j.$scrollbarVerticalTrack.removeClass("m-active");
k.preventDefault()}});j._onScrollPositionChanged()}else{j._wrapperCssInitial=j.$wrapper[0].style.cssText;j.$scrollable.addClass("ivideon-scrollable-native");j.$wrapper[0].style.overflow="hidden";j.$wrapper[0].style.overflowX=(j._options.scrollHorizontalEnabled?"auto":"hidden");
j.$wrapper[0].style.overflowY=(j._options.scrollVerticalEnabled?"auto":"hidden");j.$wrapper.on("scroll"+j._eventNamespace,c.proxy(j._onScrollPositionChanged,j));j._onScrollPositionChanged()}j._state=d.STATE_CREATED
}d.STATE_CREATED=1;d.STATE_DESTROYED=2;d.defaults={scrollHorizontalEnabled:false,scrollVerticalEnabled:true,iscrollEnabled:true,iscrollOptions:{bounce:true,bounceLock:true,useTransform:false,hideScrollbar:false,wheelDeltaX:50,wheelDeltaY:50},shadowLeftEnabled:false,shadowRightEnabled:false,shadowTopEnabled:false,shadowBottomEnabled:false};
a.getPosition=function(){var k=this,i=0,j=0;if(k._state!==d.STATE_DESTROYED){if(k._options.iscrollEnabled){i=-k._iscroll.x;j=-k._iscroll.y}else{i=k.$wrapper.scrollLeft();j=k.$wrapper.scrollTop()}}return{x:i,y:j}
};a.getBounds=function(){var m=this,j=0,l=0,i=0,k=0;if(m._state!==d.STATE_DESTROYED){if(m._options.iscrollEnabled){l=-m._iscroll.maxScrollX;i=-m._iscroll.minScrollY;k=-m._iscroll.maxScrollY}else{l=-(m.$wrapper[0].clientWidth-m.$scrollable[0].offsetWidth);
k=-(m.$wrapper[0].clientHeight-m.$scrollable[0].offsetHeight)}}return{xMin:j,xMax:l,yMin:i,yMax:k}};a.scrollTo=function(i,l,j){var k=this;if((typeof i!=="number"||isNaN(i))&&typeof i!=="undefined"&&i!==null){throw new h.utils.ArgumentError(g+'#scrollTo: Argument "x" is incorrect.')
}if((typeof l!=="number"||isNaN(l))&&typeof l!=="undefined"&&l!==null){throw new h.utils.ArgumentError(g+'#scrollTo: Argument "y" is incorrect.')}if(k._state===d.STATE_DESTROYED){return}if(k._options.iscrollEnabled){k._iscroll.scrollTo((typeof i==="undefined"||i===null?k._iscroll.x:-i),(typeof l==="undefined"||l===null?k._iscroll.y:-l),j)
}else{if(typeof i!=="undefined"&&i!==null){k.$wrapper.scrollLeft(i)}if(typeof l!=="undefined"&&l!==null){k.$wrapper.scrollTop(l)}k._onScrollPositionChanged()}};a.refresh=function(i){var k=this;if(k._state===d.STATE_DESTROYED){return
}function j(){if(k._state===d.STATE_DESTROYED){return}if(k._options.iscrollEnabled){k._iscroll.refresh()}else{k._updateShadows()}}b.clearTimeout(k._refreshTimer);if(typeof i==="number"&&i>=0){k._refreshTimer=b.setTimeout(j,i)
}else{j()}};a.destroy=function(){var j=this,i;if(j._state===d.STATE_DESTROYED){return}j._state=d.STATE_DESTROYED;if(j._onDragScrollEndTimer){b.clearTimeout(j._onDragScrollEndTimer);j._onDragScrollEndTimer=null
}b.clearTimeout(j._refreshTimer);c(b.document).unbind(j._eventNamespace);j.$wrapper.unbind(j._eventNamespace);if(j._options.iscrollEnabled){if(j.$scrollbarHorizontalTrack){j.$scrollbarHorizontalTrack.off((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar")
}if(j.$scrollbarHorizontalHandle){j.$scrollbarHorizontalHandle.off((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar")}if(j.$scrollbarVerticalTrack){j.$scrollbarVerticalTrack.off((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar")
}if(j.$scrollbarVerticalHandle){j.$scrollbarVerticalHandle.off((b.Modernizr.touch?"touchstart":"mousedown")+".ivideon-scrollable-scrollbar")}j._iscroll.destroy();j._iscroll=null}else{j.$wrapper.off("scroll",j._onScrollPositionChanged);
j.$wrapper[0].style.cssText=j._wrapperCssInitial}if(j.$shadowLeft){j.$shadowLeft.remove()}if(j.$shadowRight){j.$shadowRight.remove()}if(j.$shadowTop){j.$shadowTop.remove()}if(j.$shadowBottom){j.$shadowBottom.remove()
}j.$wrapper.removeData(g).removeClass("ivideon-scrollable-wrapper ivideon-scroll-shadow-container");j.$scrollable.removeClass("ivideon-scrollable-target ivideon-scrollable-iscroll ivideon-scrollable-native ivideon-scroll-shadow-target");
j._options.onDragScrollStart=null;j._options.onDragScrollMove=null;j._options.onDragScrollTouchEnd=null;j._options.onDragScrollEnd=null;for(i in j){if(j.hasOwnProperty(i)&&i.charAt(0)==="$"){delete j[i]
}}};a._onDragScrollMove=function(j){var k=this;if(k._state===d.STATE_DESTROYED){return}if(/^touch/.test(j.type)&&k._iscroll){var i=k._iscroll;if((i.dirX!==0&&i.x!==0&&i.x!==i.maxScrollX)||(i.dirY!==0&&i.y!==i.minScrollY&&i.y!==i.maxScrollY)){j.stopPropagation();
j.preventDefault()}}if(!k._dragScrollStarted){k._dragScrollStarted=true;if(k._options.onDragScrollStart){k._options.onDragScrollStart()}}if(k._options.onDragScrollMove){k._options.onDragScrollMove()}};
a._onDragScrollTouchEnd=function(){var i=this;if(i._state===d.STATE_DESTROYED){return}if(i._dragScrollStarted){if(i._options.onDragScrollTouchEnd){i._options.onDragScrollTouchEnd()}}};a._onDragScrollEnd=function(){var i=this;
if(i._state===d.STATE_DESTROYED){return}if(i._onDragScrollEndTimer){b.clearTimeout(i._onDragScrollEndTimer);i._onDragScrollEndTimer=null}i._onDragScrollEndTimer=b.setTimeout(function(){if(i._state===d.STATE_DESTROYED){return
}if(i._dragScrollStarted){i._dragScrollStarted=false;if(i._options.onDragScrollEnd){i._options.onDragScrollEnd()}}},0)};a._onScrollPositionChanged=function(){var i=this;if(i._state===d.STATE_DESTROYED){return
}i._updateShadows();if(i._options.iscrollEnabled){i.$wrapper.triggerHandler("scroll")}};a._handleScrollbarInteraction=function(n){var p=this,j,m,l,k,i,o;if(p._state===d.STATE_DESTROYED){return}if(p._iscroll){if(p._pageXStart!==null){j=p.$scrollbarHorizontalTrack.offset();
k=p.$scrollbarHorizontalTrack.width();l=(p.$scrollable.width()||0);i=(n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[n.originalEvent.touches.length-1]:n);m=(i.pageX-p._pageXDelta-j.left);
o=-Math.max(0,Math.min(l,(m/k)*l));p._iscroll.scrollTo(o,p._iscroll.y,0);n.preventDefault()}else{if(p._pageYStart!==null){j=p.$scrollbarVerticalTrack.offset();k=p.$scrollbarVerticalTrack.height();l=(p.$scrollable.height()||0);
i=(n.originalEvent&&n.originalEvent.touches?n.originalEvent.touches[n.originalEvent.touches.length-1]:n);m=(i.pageY-p._pageYDelta-j.top);o=-Math.max(0,Math.min(l,(m/k)*l));p._iscroll.scrollTo(p._iscroll.x,o,0);
n.preventDefault()}}}};a._updateShadows=function(){var n=this,k,j,o,p,l,r,q,i,m;if(n._state===d.STATE_DESTROYED){return}if(n._options.shadowLeftEnabled||n._options.shadowRightEnabled){if(n._options.iscrollEnabled){if(!n._iscroll){return
}if(n._options.shadowLeftEnabled){k=-n._iscroll.x}if(n._options.shadowRightEnabled){k=-n._iscroll.x;l=(n.$scrollable.width()||0);q=n.$wrapper.width();o=(l-q)}}else{q=n.$wrapper.width();k=n.$wrapper.scrollLeft();
l=(n.$wrapper.prop("scrollWidth")||n.$scrollable.width()||0);o=(l-q)}}if(n._options.shadowTopEnabled||n._options.shadowBottomEnabled){if(n._options.iscrollEnabled){if(!n._iscroll){return}if(n._options.shadowTopEnabled){j=-n._iscroll.y
}if(n._options.shadowBottomEnabled){j=-n._iscroll.y;r=(n.$scrollable.height()||0);i=n.$wrapper.height();p=(r-i)}}else{i=n.$wrapper.height();j=n.$wrapper.scrollTop();r=(n.$wrapper.prop("scrollHeight")||n.$scrollable.height()||0);
p=(r-i)}}if(n._options.shadowLeftEnabled){m=Math.min(1,Math.max(0,(k/100)));n.$shadowLeft.css("opacity",m).css("visibility",(m<=0?"hidden":"inherit"))}if(n._options.shadowRightEnabled){m=Math.min(1,Math.max(0,(l>q?(o-k)/100:0)));
n.$shadowRight.css("opacity",m).css("visibility",(m<=0?"hidden":"inherit"))}if(n._options.shadowTopEnabled){m=Math.min(1,Math.max(0,(j/100)));n.$shadowTop.css("opacity",m).css("visibility",(m<=0?"hidden":"inherit"))
}if(n._options.shadowBottomEnabled){m=Math.min(1,Math.max(0,(r>i?(p-j)/100:0)));n.$shadowBottom.css("opacity",m).css("visibility",(m<=0?"hidden":"inherit"))}}}(window,window._ivideon));(function(c,h,f){"use strict";
var d=h.$,e=b,a=e.prototype,g="ivideon.utils.TabbableListView";h.provide(g,e);function b(i){var j=this;j._options=h.optClass(e.defaults,i,g,j,{"?itemSelector":"itemSelector"});j.$focusedItem=null;j._focusinHandler=function(k){j._renderFocus(k.target)
};j._focusoutHandler=function(l){var k={currentTarget:l.currentTarget,target:l.target};if(!j._options.keepFocusHighlight){j._renderFocus(null)}c.setTimeout(function(){if(k.target!==k.currentTarget&&d(k.target).closest("html").length<=0){if(d(k.currentTarget).hasClass(j._options.focusCssClassName)){k.currentTarget.focus()
}}},0)};d(c.document).on("focusin",j._options.itemSelector,j._focusinHandler);d(c.document).on("focusout",j._options.itemSelector,j._focusoutHandler)}e.defaults={itemSelector:f,focusCssClassName:"m-focus",keepFocusHighlight:true};
a._renderFocus=function(i){var k=this;if(!k._focusinHandler){return}var j=(i?d(i).closest(k._options.itemSelector):null);if(!j||!k.$focusedItem||j[0]!==k.$focusedItem[0]){if(k.$focusedItem){k.$focusedItem.removeClass(k._options.focusCssClassName)
}if(j&&j[0]){k.$focusedItem=j;j.addClass(k._options.focusCssClassName)}else{k.$focusedItem=null}}};a.destroy=function(){var i=this;i.$focusedItem=null;if(i._focusinHandler){d(c.document).off("focusin",i._options.itemSelector,i._focusinHandler);
i._focusinHandler=null}if(i._focusoutHandler){d(c.document).off("focusout",i._options.itemSelector,i._focusoutHandler);i._focusoutHandler=null}}}(window,window._ivideon));(function(e,f,b){"use strict";
var c=f.$,h=a,g=h.prototype,d="ivideon.utils.Locker",i=d;f.provide(d,h);function a(j){var k=this;k._options=f.optClass(h.defaults,j,d,k,{$lockTarget:"lockTarget",});if(k._options.content){k._preprocessContent(k._options.content)
}else{k._preprocessContent(h.defaultContent)}if(!c.isArray(k._options.delays)){k._options.delays=[k._options.delays]}if(k.content.length-1>k._options.delays.length){throw new f.utils.ArgumentError(d+": There`s more content snippets ("+k.content.length+") than delays ("+k._options.delays.length+"). One snippet is displayed first, therefore there should be N content snippets more than N-1 delays.")
}k.events=new (f.require("ivideon.utils.Observable"))(k);k.showTimeoutHandler=c.proxy(k.showNextContent,k);k.initQtip();k.currentContentIndex=0;k._setState(h.STATE_CREATED)}h.STATE_CREATED=1;h.STATE_DESTROYED=2;
h.defaults={lockTarget:e,delays:[3000,10000],classes:""};h.defaultContent=["empty","pleaseWait","error"];h.qtipConfig={position:{at:"center",my:"center",adjust:{method:"shift",scroll:true},viewport:true},content:{text:"&nbsp;"},show:{ready:true,event:false,modal:{on:true,blur:false,escape:false}},hide:{event:false,fixed:true},style:{classes:"ivideon-locker-window m-invisible"}};
g.lock=function(){var j=this;j.showNextContent()};g.initQtip=function(){var k=this,j=f.optMerge(h.qtipConfig);j.position.viewport=c(e);j.position.target=c(e);j.style.classes+=k._options.classes;j.events={render:c.proxy(k.onQtipRender,k)};
k.$lockTarget.qtip(j);k.qtipApi=k.$lockTarget.qtip("api")};g._preprocessContent=function(j){var l=this,k=l._getContentPresets();if(!c.isArray(j)){j=[j]}l.content=[];c.each(j,function(m,n){if(typeof n==="string"){if(k[n]){l.content.push(k[n])
}else{throw new f.utils.ArgumentError(d+'#_preprocessContent: Unknown content preset "'+n+'"')}}else{if(typeof n==="object"){l.content.push(n)}}})};g._getContentPresets=function(){return{empty:{},pleaseWait:{text:"<div>"+f.tr(i,"please_wait")+"</div>",loading:true},error:{text:"<div>"+f.tr(i,"error.text")+"</div>",buttons:'<button type="button" class="iv-btn" onclick="window.location.reload();">'+f.tr(i,"error.refresh")+"</button>"}}
};g.setMessageContent=function(l){var m=this,j=m.buildQtipContent(l),k=c(m.qtipApi.elements.tooltip);if(j.visible===true){k.removeClass("m-invisible");m.$overlay.removeClass("m-invisible")}else{k.addClass("m-invisible");
m.$overlay.addClass("m-invisible")}m.qtipApi.set(j.qtip)};g.showNextContent=function(){var j=this;if(j.currentContentIndex>j.content.length){return}j.setMessageContent(j.content[j.currentContentIndex]);
++j.currentContentIndex;if(j.currentContentIndex<j.content.length&&j.currentContentIndex-1<j._options.delays.length){j.showTimeout=e.setTimeout(j.showTimeoutHandler,j._options.delays[j.currentContentIndex-1])
}};g.onQtipRender=function(){var k=this,j;k.$overlay=c(k.qtipApi.elements.overlay).find("div");j="ivideon-locker-overlay m-invisible";k.$overlay.addClass(j);k.showNextContent()};g.buildQtipContent=function(j){var l={qtip:{},visible:true},m,k="ivideon-locker-window-text";
if(!j.text){l.visible=false;m="&nbsp;"}else{if(j.loading===true){k+=" m-loading"}if(j.title){l.qtip["content.title.text"]=j.title}m=c('<div class="'+k+'" />').append(c(j.text));if(j.buttons!==b){m.append(c('<div class="b-buttons b-form" />').append(c(j.buttons)))
}if(j.loadingIndicator===true){m=c('<div class="b-loading-text" />').append(m)}}l.qtip["content.text"]=m;return l};g.destroy=function(){var k=this,j;if(k._state===h.STATE_DESTROYED){return}k.events.fire("destroying");
k.events.un();k._setState(h.STATE_DESTROYED);if(k.showTimeout){e.clearTimeout(k.showTimeout)}if(k.qtipApi){k.qtipApi.destroy()}for(j in k){if(k.hasOwnProperty(j)&&j.charAt(0)==="$"){delete k[j]}}};g._setState=function(j){var k=this;
if(!j){throw new f.utils.ArgumentError(d+'#_setState: Argument "state" not set.')}if(k._state===h.STATE_DESTROYED){return}k._state=j}}(window,window._ivideon));(function(d,e,a){"use strict";var b=e.$,h=g,f=h.prototype,c="ivideon.utils.LockerService",i=c;
e.provide(c,h);function g(j){var k=this;k.lockerId=0;k.lockers={}}f.getNextLockerId=function(){var j=this;return("_lq"+(++j.lockerId))};f.lockForDeferred=function(j){var m=this,k=j.id?j.id:m.getNextLockerId();
if(m.lockers[k]){m.unlock(k)}m.lockers[k]=new (e.require("ivideon.utils.Locker"))(j.locker||{});var l=function(){m.unlock(k)};switch(j.unlock){case"never":break;case"success":j.deferred.then(l);break;default:j.deferred.always(l)
}return k};f.unlock=function(j){var l=this,k=l.lockers[j];if(k){k.destroy();delete l.lockers[j]}}}(window,window._ivideon));(function(d,f,a){"use strict";var b=f.$,h=e,g=h.prototype,c="ivideon.utils.PointersTracker";
f.provide(c,h);function i(j,l){var k=this;k.type=j;k.id=l;k.currX=null;k.currY=null;k.currTarget=d.document;k.pressed=false;k.pressedTime=0;k.pressedWhich=null;k.pressedX=null;k.pressedY=null;k.releasedTime=0;
k.releasedX=null;k.releasedY=null}function e(k,j,n,l){var m=this;m.$starters=b(k);m.$movers=b(j);m.$stoppers=b(n);m._options=f.optMerge(h.defaults,l);m.events=new (f.require("ivideon.utils.Observable"))(m);
m._eventNamespace=".ivideon-pointers-tracker-"+f.now();m._pointers={};m._pointerEvents=[];if(d.Modernizr.touch){m._registerTouchHandlers()}else{m._registerMouseHandlers()}m._startAsyncEvents()}h.POINTER_TYPE_MOUSE=1;
h.POINTER_TYPE_FINGER=2;h.POINTER_ID_MOUSE="MOUSE";h.defaults={asyncEvents:false,asyncEventsInterval:Math.ceil(1000/30)};h.pressedPointersSelector=function(j){return j&&j.pressed};g.getPointers=function(l){var q=this,k,m,p,n=[],o,j;
for(k in q._pointers){if(q._pointers.hasOwnProperty(k)){m=q._pointers[k];for(o=0,j=m.length;o<j;++o){p=m[o];if(!l||l(p)){n[n.length]=p}}}}return n};g.getPointerById=function(k){var m=this,j,l;for(j in m._pointers){if(m._pointers.hasOwnProperty(j)){l=m._getPointer(j,k);
if(l){break}}}return l};g.destroy=function(){var j=this;b(d.document).add(j.$starters).add(j.$movers).add(j.$stoppers).unbind(j._eventNamespace);j._stopAsyncEvents();j._pointers={};j._pointerEvents=[]};
g._getPointersCollection=function(j,l){var m=this,k=m._pointers[j];if(!k&&l){k=m._pointers[j]=[]}return k};g._getPointer=function(k,o){var q=this,l=q._getPointersCollection(k),m,j,p,n;if(l){for(m=0,j=l.length;
m<j;++m){p=l[m];if(p.type===k&&p.id===o){n=p}}}return n};g._hasPressedPointers=function(k){var o=this,l=o._getPointersCollection(k),m,j,n;if(l){for(m=0,j=l.length;m<j;++m){n=l[m];if(n.pressed){return true
}}}return false};g._removeReleasedPointers=function(k){var o=this,l=o._getPointersCollection(k),m,j,n;if(l){for(m=0,j=l.length;m<j;++m){n=l[m];if(!n.pressed){l.splice(m,1);--m;--j;o._pointerEvents.push(o._queueRemovedEvent(n))
}}}};g._queueAddedEvent=function(j){this._pointerEvents.push({type:"added",args:{pointer:j}});this._startAsyncEvents()};g._queueRemovedEvent=function(j){this._pointerEvents.push({type:"removed",args:{pointer:j}});
this._startAsyncEvents()};g._queuePressedEvent=function(j){this._pointerEvents.push({type:"pressed",args:{pointer:j}});this._startAsyncEvents()};g._queueMovedEvent=function(k){var j=(this._pointerEvents.length>0?this._pointerEvents[this._pointerEvents.length-1]:null);
if(j&&j.type==="moved"&&j.pointer===k){this._pointerEvents.length-=1}this._pointerEvents.push({type:"moved",args:{pointer:k}});this._startAsyncEvents()};g._queueReleasedEvent=function(j){this._pointerEvents.push({type:"released",args:{pointer:j}});
this._startAsyncEvents()};g._queueWheelEvent=function(l,m,k,j){this._pointerEvents.push({type:"wheel",args:{pointer:l,delta:m,deltaX:k,deltaY:j}});this._startAsyncEvents()};g._startAsyncEvents=function(){var j=this;
if(!j._options.asyncEvents){return}if(!j._asyncEventsTimer){j._asyncEventsTimer=d.setInterval(function(){j._fireQueuedEvents()},j._options.asyncEventsInterval)}};g._stopAsyncEvents=function(){var j=this;
d.clearInterval(j._asyncEventsTimer);j._asyncEventsTimer=null};g._fireQueuedEvents=function(){var n=this,l=n._pointerEvents,m,k,j=l.length;if(j>0){for(k=0;k<j;++k){m=l[k];n.events.fire(m.type,m.args)}l.length=0;
if(n._asyncEventsStopTimer){d.clearTimeout(n._asyncEventsStopTimer);n._asyncEventsStopTimer=null}n._asyncEventsStopTimer=d.setTimeout(function(){n._stopAsyncEvents()},1000)}};g._fixMouseEvent=function(j){var k=this;
if(j.which===1){if(j.type==="mousedown"){k._mouseLeftButtonDown=true}else{if(j.type==="mouseup"){k._mouseLeftButtonDown=false}}}if(b.browser.msie&&d.document&&d.document.documentMode<9&&(!d.event||!d.event.button)){k._mouseLeftButtonDown=false
}if(j.which===1&&!k._mouseLeftButtonDown){j.which=0}return j};g._updateMousePointerFromEvent=function(k){var r=this,l=h.POINTER_TYPE_MOUSE,t=h.POINTER_ID_MOUSE,u=r._getPointersCollection(l,true),m=r._fixMouseEvent(k),p=(m.type==="mousedown"),s=(m.type==="mouseup"),o=(m.type==="mousewheel"),q,n,j;
j=r._getPointer(l,t);if(!j){j=new i(l,t);u[u.length]=j;r._queueAddedEvent(j)}for(q=0,n=u.length;q<n;++q){j=u[q];j.currX=m.pageX;j.currY=m.pageY;j.currTarget=m.target||d.document;r._queueMovedEvent(j);if(o){continue
}if(!j.pressed&&p){j.pressed=true;j.pressedTime=f.now();j.pressedX=j.currX;j.pressedY=j.currY;j.pressedWhich=m.which;j.releasedTime=0;j.releasedX=null;j.releasedY=null;r._queuePressedEvent(j)}else{if(j.pressed&&(s||!r._mouseLeftButtonDown)){j.pressed=false;
j.releasedTime=f.now();j.releasedX=j.currX;j.releasedY=j.currY;r._queueReleasedEvent(j)}}}if(!r._options.asyncEvents){r._fireQueuedEvents()}};g._updateFingerPointersFromEvent=function(t){var w=this,B=h.POINTER_TYPE_FINGER,r=w._getPointersCollection(B,true),z=t,s=(z.originalEvent?z.originalEvent.touches:null),m=(z.originalEvent?z.originalEvent.changedTouches:null),n=(z.type==="touchstart"),q=(z.type==="touchend"||z.type==="touchcancel"),A,u,v,y,C,p,x,o,l;
if(m){for(y=0,C=m.length;y<C;++y){p=m[y];v=w._getPointer(B,p.identifier);if(!v){v=new i(B,p.identifier);r[r.length]=v;w._queueAddedEvent(v)}}}if(m&&s){for(A=0,u=r.length;A<u;++A){v=r[A];for(y=0,C=m.length;
y<C;++y){p=m[y];if(v.id===p.identifier){l=false;for(x=0,o=s.length;x<o;++x){if(s[x].identifier===p.identifier){l=true}}v.currX=p.pageX;v.currY=p.pageY;v.currTarget=p.target||z.target||d.document;w._queueMovedEvent(v);
if(n&&!v.pressed&&l){v.pressed=true;v.pressedTime=f.now();v.pressedX=v.currX;v.pressedY=v.currY;v.pressedWhich=1;v.releasedTime=0;v.releasedX=null;v.releasedY=null;w._queuePressedEvent(v)}else{if(q&&v.pressed&&!l){v.pressed=false;
v.releasedTime=f.now();v.releasedX=v.currX;v.releasedY=v.currY;w._queueReleasedEvent(v)}}}}}}w._removeReleasedPointers();if(!w._options.asyncEvents){w._fireQueuedEvents()}};g._registerMouseHandlers=function(){var k=this;
k.$starters.bind("mousedown"+k._eventNamespace,function(l){k._updateMousePointerFromEvent(l);l.preventDefault()}).bind("mousewheel"+k._eventNamespace,function(n,o,m,l){k._updateMousePointerFromEvent(n);
k._queueWheelEvent(k._getPointer(h.POINTER_TYPE_MOUSE,h.POINTER_ID_MOUSE),o,m,l);return false});k.$movers.bind("mousemove"+k._eventNamespace,function(l){k._updateMousePointerFromEvent(l);if(k._hasPressedPointers()){l.preventDefault()
}});k.$stoppers.bind("mouseup"+k._eventNamespace,function(m){var l=k._hasPressedPointers();k._updateMousePointerFromEvent(m);if(l){m.preventDefault()}});b(d.document).bind("mousemove"+k._eventNamespace+" mouseleave"+k._eventNamespace,function j(m){var l=k._hasPressedPointers();
k._updateMousePointerFromEvent(m);if(l){m.preventDefault()}})};g._registerTouchHandlers=function(){var j=this;j.$starters.bind("touchstart"+j._eventNamespace,function(k){k.preventDefault();k.stopPropagation();
j._updateFingerPointersFromEvent(k);j.$movers.bind("touchmove"+j._eventNamespace,function(l){l.stopPropagation();j._updateFingerPointersFromEvent(l)});j.$stoppers.bind("touchend"+j._eventNamespace+" touchcancel"+j._eventNamespace,function(l){l.stopPropagation();
j._updateFingerPointersFromEvent(l);j.$movers.unbind("touchmove"+j._eventNamespace);j.$stoppers.unbind("touchend"+j._eventNamespace+" touchcancel"+j._eventNamespace)})})}}(window,window._ivideon));(function(g,h,b){"use strict";
var d=h.$,j=e,i=j.prototype,f="ivideon.utils.HeightFitter",c=f,a=f+"-next";h.provide(f,j);function e(k){var l=this;l._options=h.optClass(j.defaults,k,f,l,{$container:"container",$targets:"targets",$next:"next"});
l.$targets.data(a,l.$next);l.events=new (h.require("ivideon.utils.Observable"))(l);l.$container.data(c,l);l.update();l._onWindowResizeBindUnbind(true)}j.defaults={container:g,targets:[],next:[],autoHeight:true,minHeight:0};
i.add=function(k,l){var n=this,m;if(n._destroyed){return}m=d(k||[]);m.data(a,n.$next.add(l||[]));n.$targets=n.$targets.add(m);n.update()};i.remove=function(k){var m=this,l;if(m._destroyed){return}l=d(k||[]);
l.removeData(a);m.$targets=m.$targets.not(l)};i.destroy=function(){var k=this;if(k._destroyed){return}k._destroyed=true;k.$targets.removeData(a);k.$container.removeData(c);k._onWindowResizeBindUnbind(false);
k.$targets=null;k.$next=null;k.$container=null};i.update=function(){var q=this,l,n,o,p=[],m,k;if(q._destroyed){return}n=(d.isWindow(q.$container[0])?{left:0,top:0}:q.$container.offset());if(!n){return}l=q.$container.parents();
Array.prototype.reverse.call(l);l.each(function(){var r=d(this).data(c);if(r){r.update()}});o=q.$container.height();q.$targets.each(function(){var u=d(this),v,y=u.offset(),x,t,s,w=0,r;if(y){x=u.height();
v=u.data(a);if(v&&v.each){v.each(function(){var z=d(this);if(z.css("display")!=="none"){w+=z.outerHeight(true)}})}t=(o-(y.top-n.top));s=q._options.minHeight;r=u.parents();Array.prototype.reverse.call(r);
r.each(function(){var A=d(this),z=parseInt(A.css("paddingBottom")||0,10);if(!isNaN(z)&&z>0){w+=z}});t-=w;t=(t>s?t:s);t=Math.round(t);if(t!==x){u.height(t)}p.push(u[0])}});for(k=p.length,m=0;m<k;++m){q.events.fire("height-changed",{target:p[m]})
}};i._onWindowResizeBindUnbind=function(l){var k=this;if(l){d(g).bind("resize orientationchange elementresize",k._onWindowResize=function(){if(k._onWindowResizeTimer){g.clearTimeout(k._onWindowResizeTimer);
k._onWindowResizeTimer=null}k._onWindowResizeTimer=g.setTimeout(function(){if(k._onWindowResizeTimer){g.clearTimeout(k._onWindowResizeTimer);k._onWindowResizeTimer=null}if(k._options.autoHeight){k.update()
}},d.browser.msie||d.browser.opera?50:0)})}else{if(k._onWindowResize){d(g).unbind("resize orientationchange elementresize",k._onWindowResize);k._onWindowResize=null}if(k._onWindowResizeTimer){g.clearTimeout(k._onWindowResizeTimer);
k._onWindowResizeTimer=null}}}}(window,window._ivideon));(function(k,m,b){"use strict";var g=m.$,o=l,n=o.prototype,h="ivideon.utils.ImageLoader",f={opacity:0},c={opacity:1},e=1,j=g.Deferred(),i=(g.browser.msie&&(g.browser.version<9||k.document.documentMode<9));
m.provide(h,o);function a(){return false}function d(q,p){return(q._queuedTime-p._queuedTime)}g(k).on("load",function(){j.resolve()});function l(p){var q=this;q._options=m.optMerge(o.defaults,p);q._eventns=".imageloader-"+(new Date()).getTime();
q._trackers={};q._loadingCount=0;q.events=new (m.require("ivideon.utils.Observable"))(q);if(q._options.deferToWindowLoad){j.done(function(){q._continueQueued()})}}o.IMAGE_STATE_EMPTY=1;o.IMAGE_STATE_LOADING=2;
o.IMAGE_STATE_LOADED=3;o.IMAGE_STATE_QUEUED=4;o.BLANK_IMAGE="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";o.defaults={trackerOptions:{timeout:5000,successTtl:0,errorTtl:0,onStart:null,onSuccess:null,onError:null,scope:null,cachebusting:true,preventDrag:true,preventSelect:true},swapperOptions:{fadeSpeed:0,fadeCssTransitionsEnabled:true},parallelLoadingMax:10,deferToWindowLoad:true};
n.add=function(s,p,t){var u=this,q,r;if(u._destroyed){throw new m.utils.StateError(h+"#add: destroyed.")}if(k._DEBUG){if(!s||s.tagName!=="IMG"){throw new m.utils.ArgumentError(h+'#add: Argument "image" is incorrect.')
}for(q in u._trackers){if(u._trackers.hasOwnProperty(q)){if(u._trackers[q].image===s){throw new m.utils.ArgumentError(h+'#add: Already added image "'+(s.id?"#"+s.id:"")+(s.className?"."+s.className.replace(/(?:^\s+)|(?:\s+$)/g,"").split(/\s+/g).join("."):"")+'".')
}}}}r=m.optMerge(u._options.trackerOptions,p);r.id=e++;r.image=s;r.$image=g(s);r.state=o.IMAGE_STATE_EMPTY;r.url=s.src||b;r.successTime=0;r.errorTime=0;r._timeoutTimer=null;r._update=null;r._updateTimer=null;
r._queuedTime=0;r._disableEvents=false;r._removed=false;if(r.preventDrag){g.event.add(r.image,"dragstart"+u._eventns,a)}if(r.preventSelect){g.event.add(r.image,"selectstart"+u._eventns,a)}g.event.add(r.image,"load"+u._eventns,function(){if(r._timeoutTimer){k.clearTimeout(r._timeoutTimer);
r._timeoutTimer=null}if(r._disableEvents||r.image.src===o.BLANK_IMAGE){return}if(r.state!==o.IMAGE_STATE_LOADING){return}k.setTimeout(function(){u._setLoadedState(r);u._continueQueued();u._repeat(r)},0)
});g.event.add(r.image,"error"+u._eventns+" abort"+u._eventns,function(){if(r._timeoutTimer){k.clearTimeout(r._timeoutTimer);r._timeoutTimer=null}if(r._disableEvents||r.image.src===o.BLANK_IMAGE){return
}if(r.state!==o.IMAGE_STATE_LOADING){return}if(r.state===o.IMAGE_STATE_LOADING){--u._loadingCount}r._disableEvents=true;r.image.src=o.BLANK_IMAGE;r.image.style.visibility="hidden";r._disableEvents=false;
r.state=o.IMAGE_STATE_EMPTY;if(r.onError){r.onError.call(r.scope,r)}u._continueQueued();u._repeat(r)});u._setLoadedState(r);u._trackers[r.id]=r;return(t?r:r.id)};n.get=function(p){var q=this;if(q._destroyed){throw new m.utils.StateError(h+"#get: destroyed.")
}return q._trackers[p]};n.addSwapper=function(J,s){var A=this,q,z,C,D,L,B,x,G,y,K,t,v,E,w,r,F,H,p=false,u=false;if(A._destroyed){throw new m.utils.StateError(h+"#addSwapper: destroyed.")}if(!J||J.length<1){throw new m.utils.ArgumentError(h+'#addSwapper: Argument "buffers" not set.')
}z={buffers:J,$buffers:g(J),frontbufferId:null,frontbuffer:null,backbufferId:null,backbuffer:null,state:o.IMAGE_STATE_EMPTY};q=m.optMerge(A._options.swapperOptions,s);C=m.optMerge(A._options.trackerOptions);
D=C.scope;delete C.scope;L=C.onStart;delete C.onStart;B=C.onSuccess;delete C.onSuccess;x=C.onError;delete C.onError;if(k.Modernizr.csstransitions&&k.Modernizr.csstransitions.transition&&q.fadeSpeed&&q.fadeCssTransitionsEnabled){G=k.Modernizr.csstransitions.transition;
y=k.Modernizr.csstransitions.transitionDuration;v=k.Modernizr.csstransitions.transitionEnd;K=(q.fadeSpeed?(typeof q.fadeSpeed==="string"&&g.fx&&g.fx.speeds?g.fx.speeds[q.fadeSpeed]||g.fx.speeds._default:q.fadeSpeed):0);
t=(K/1000)+"s"}function I(){k.clearTimeout(H);p=false}C.onStart=function(M){if(u){return}k.clearTimeout(r);k.clearTimeout(H);k.clearTimeout(F);p=false;if(G){z.$buffers.css(y,"0s")}else{if(q.fadeSpeed){z.$buffers.stop()
}}if(M.id===z.frontbufferId){z.state=M.state}if(L){L.call(D,M)}if(q.onStart){q.onStart.call(q.scope,M,z)}};C.onSuccess=function(M){if(u){return}k.clearTimeout(r);if(M.id===z.backbufferId){z.backbufferId=z.frontbufferId;
z.backbuffer=z.frontbuffer;z.frontbufferId=M.id;z.frontbuffer=M;z.state=M.state;z.successTime=M.successTime;z.backbuffer.successTime=z.successTime}k.clearTimeout(H);k.clearTimeout(F);p=false;if(!G&&q.fadeSpeed){z.$buffers.stop()
}z.$buffers.each(function(){this.style.zIndex=parseInt(this.style.zIndex,10)-1});if(G){z.$buffers.css(y,"0s");M.$image.css("zIndex",E).css(f);p=true;H=k.setTimeout(I,K+50);F=k.setTimeout(function(){M.$image.css(y,t).css(c)
},0)}else{if(q.fadeSpeed){p=true;M.$image.css("zIndex",E).css(f).animate(c,q.fadeSpeed,I)}else{M.$image.css("zIndex",E).css(c)}}if(B){B.call(D,M)}if(q.onSuccess){q.onSuccess.call(q.scope,M,z)}if(typeof w==="number"&&w>0){r=k.setTimeout(function(){if(u){return
}z.load()},w)}};C.onError=function(M){if(u){return}k.clearTimeout(r);if(M.id===z.frontbufferId){z.state=M.state;z.errorTime=M.errorTime;z.backbuffer.errorTime=z.errorTime}if(x){x.call(D,M)}if(q.onError){q.onError.call(q.scope,M,z)
}};z.$buffers.css(f).css("transform","scale(1)").each(function(N){var M=this.parentNode;var O=(M?M.style:null);this.style.display="block";this.style.zIndex=N;if(O&&("webkitBackfaceVisibility" in O)){O.webkitBackfaceVisibility="hidden"
}if(G){this.style[G]="opacity "+t+" linear";g.event.add(this,v,I)}});E=J.length;if(J.length===1){z.frontbufferId=z.backbufferId=A.add(J[0],C)}else{z.frontbufferId=A.add(J[0],C);z.backbufferId=A.add(J[1],C)
}z.frontbuffer=A.get(z.frontbufferId);z.backbuffer=A.get(z.backbufferId);z.load=function(M,O){if(u){return}if(typeof O!=="undefined"){w=O}if(O!==false){var N=z.backbuffer;if(N&&N.state!==o.IMAGE_STATE_LOADING&&N.state!==o.IMAGE_STATE_QUEUED&&!p){if(typeof M==="undefined"){M=z.frontbuffer.url
}A.load(z.backbufferId,M)}}else{k.clearTimeout(r)}};z.remove=z.destroy=function(){if(u){return}u=true;k.clearTimeout(r);k.clearTimeout(H);k.clearTimeout(F);p=false;if(!G&&q.fadeSpeed){z.$buffers.stop()
}if(!A._destroyed){A.remove(z.frontbufferId);A.remove(z.backbufferId)}C=null;D=null;L=null;B=null;x=null;q=null;z=null};return z};n.load=function(r,q,v){var u=this,t,s,p;if(u._destroyed){return}t=u._trackers[r];
if(!t||t._removed){return}if(typeof v!=="undefined"){t._update=v}if(typeof q!=="undefined"){s=(q!==t.url);t.url=q}p=m.now();if(t.url&&v!==false&&(s||v===true||(!t._updateTimer&&((t.state===o.IMAGE_STATE_LOADED&&(t.successTtl<=0||(p-t.successTime>=t.successTtl)))||(t.state===o.IMAGE_STATE_EMPTY&&(t.errorTtl<=0||(p-t.errorTime>=t.errorTtl))))))){u._load(t)
}else{if(v===false){u._repeatStop(t)}}};n.remove=function(p){var r=this,q;if(r._destroyed){return}q=r._trackers[p];if(!q||q._removed){return}if(q.state===o.IMAGE_STATE_LOADING){--r._loadingCount}q._removed=true;
delete r._trackers[p];q.$image.unbind(q._eventns);if(q._updateTimer){k.clearTimeout(q._updateTimer);q._updateTimer=null}if(q._timeoutTimer){k.clearTimeout(q._timeoutTimer);q._timeoutTimer=null}};n.destroy=function(){var q=this,p;
if(q._destroyed){return}q._destroyed=true;for(p in q._trackers){if(q._trackers.hasOwnProperty(p)){q.remove(p)}}q._trackers=null};n._load=function(q){var r=this,p;if(r._destroyed||!q||q._removed){return
}r._repeatStop(q);if(q._timeoutTimer){k.clearTimeout(q._timeoutTimer);q._timeoutTimer=null}if(q.onStart){if(false===q.onStart.call(q.scope,q)){if(q.state===o.IMAGE_STATE_LOADING){--r._loadingCount}q._disableEvents=true;
q.image.src=o.BLANK_IMAGE;q._disableEvents=false;q.state=o.IMAGE_STATE_EMPTY;if(q.onError){q.onError.call(q.scope,q)}return}}if((r._options.parallelLoadingMax>0&&r._loadingCount>=r._options.parallelLoadingMax)||(r._options.deferToWindowLoad&&j.state()==="pending")){if(q.state===o.IMAGE_STATE_LOADING){--r._loadingCount
}q.state=o.IMAGE_STATE_QUEUED;q._queuedTime=m.now();return}if(!q.url){if(q.state===o.IMAGE_STATE_LOADING){--r._loadingCount}q._disableEvents=true;q.image.style.visibility="hidden";q.image.src=o.BLANK_IMAGE;
q._disableEvents=false;q.state=o.IMAGE_STATE_EMPTY;if(q.onError){q.onError.call(q.scope,q)}return}q.state=o.IMAGE_STATE_LOADING;++r._loadingCount;p=(q.url?(q.cachebusting===false?q.url:m.utils.nocacheURL(q.url)):b);
if(!p){q.image.style.visibility="hidden"}q.image.src=p||o.BLANK_IMAGE;if(q.state!==o.IMAGE_STATE_LOADING){return}if(p&&q.timeout>0){q._timeoutTimer=k.setTimeout(function(){if(r._destroyed||!q||q._removed){return
}if(q.state!==o.IMAGE_STATE_LOADING){return}if(q.state===o.IMAGE_STATE_LOADING){--r._loadingCount}q._disableEvents=true;q.image.style.visibility="hidden";q.image.src=o.BLANK_IMAGE;q._disableEvents=false;
q.state=o.IMAGE_STATE_EMPTY;if(q.onError){q.onError.call(q.scope,q)}r._continueQueued();r._repeat(q)},q.timeout)}};n._isImageBroken=(i?function(p){return(p.readyState!=="complete")}:function(p){return(p.naturalWidth===0||p.naturalHeight===0||p.complete===false||p.src===o.BLANK_IMAGE)
});n._setLoadedState=function(q){var r=this,p;if(r._destroyed||!q||q._removed){return}if(q.state===o.IMAGE_STATE_LOADING){--r._loadingCount}p=m.now();if(r._isImageBroken(q.image)){q._disableEvents=true;
q.image.style.visibility="hidden";q.image.src=o.BLANK_IMAGE;q._disableEvents=false;q.state=o.IMAGE_STATE_EMPTY;q.errorTime=p;if(q.onError){q.onError.call(q.scope,q)}}else{q.image.style.visibility="inherit";
q.state=o.IMAGE_STATE_LOADED;q.successTime=p;if(q.onSuccess){q.onSuccess.call(q.scope,q)}}};n._continueQueued=function(){var s=this,p=[],r,q;for(q in s._trackers){if(s._trackers.hasOwnProperty(q)){r=s._trackers[q];
if(r.state===o.IMAGE_STATE_QUEUED){p.push(r)}}}p.sort(d);while(p.length>0&&s._loadingCount<s._options.parallelLoadingMax){s._load(p.shift())}};n._repeatStop=function(p){if(!p||p._removed){return}if(p._updateTimer){k.clearTimeout(p._updateTimer);
p._updateTimer=null}};n._repeat=function(p){var q=this;if(q._destroyed||!p||p._removed){return}q._repeatStop(p);if(typeof p._update==="number"&&p._update>0){p._updateTimer=k.setTimeout(function(){p._updateTimer=null;
if(q._destroyed){return}q._load(p)},p._update)}}}(window,window._ivideon));(function(c,h,f){"use strict";var d=h.$,e=a,b=e.prototype,g="ivideon.views.InplacePopup";h.provide(g,e);function a(i){var j=this;
j._options=h.optMerge(e.defaults,i);j.events=new (h.require("ivideon.utils.Observable"))(j);j._destroyHandler=d.proxy(j.destroy,j);j.$titleSwitch=d("<div/>").addClass("b-inpopup-switch-opened").append(d("<span/>").html(j._options.$switch.html())).click(j._destroyHandler);
j.$wrapper=d("<div/>").addClass("b-inpopup-body").hide().append(j.$titleSwitch).append(d("<div/>").addClass("b-inpopup-content").append(j._options.$body));if(j._options.$footer){j.$wrapper.append(j._options.$footer)
}j.$holster=j._options.$switch.parent();if(!j.$holster.hasClass("b-inpopup")){j.$holster=d('<div class="b-inpopup '+(j._options.popupClass||"")+'" />');j.$holster.insertAfter(j._options.$switch);j.$holster.append(j._options.$switch).append(j.$wrapper)
}else{j.$wrapper.insertAfter(j._options.$switch)}j.$holster.css("z-index",1000).bind("clickoutside mousemoveoutside touchmoveoutside touchstartoutside",j._destroyHandler);e.events.on("close",j._destroyHandler)
}e.STATE_CREATED=1;e.STATE_VISIBLE=2;e.STATE_DESTROYED=3;e.defaults={};e.events=new (h.require("ivideon.utils.Observable"))(e);e.hideAll=function(){e.events.fire("close")};b.show=function(){var i=this;
i._setState(e.STATE_VISIBLE);i.$wrapper.removeClass("m-left").show();i.$wrapper.css("min-width",i.$titleSwitch.outerWidth());i.$wrapper.css("visibility","hidden");if((i.$wrapper.offset().left+i.$wrapper.outerWidth())>=d(c).width()){i.$wrapper.addClass("m-left");
i.$wrapper.width()}i.$wrapper.css("visibility","inherit");i.events.fire("show")};b.destroy=function(){var j=this,i;if(j._state===e.STATE_DESTROYED){return}j._setState(e.STATE_DESTROYED);j.events.fire("destroying");
j.events.un();e.events.un("close",j._destroyHandler);j.$holster.css("z-index","auto").unbind("clickoutside mousemoveoutside touchmoveoutside touchstartoutside",j._destroyHandler);j.$wrapper.remove();if(j.result&&j.result.state==="pending"){j.result.reject()
}for(i in j){if(j.hasOwnProperty(i)&&i.charAt(0)==="$"){delete j[i]}}};b._setState=function(i){var j=this;if(!i){throw new h.utils.ArgumentError(g+'#_setState: Argument "state" not set.')}if(j._state===e.STATE_DESTROYED){return
}j._state=i}}(window,window._ivideon));(function(c,h,f){"use strict";var d=h.$,e=a,b=e.prototype,g="ivideon.views.InplaceDropdown";h.provide(g,e);function a(i){var j=this;j._options=h.optClass(e.defaults,i,g,j,{$relativeTo:"relativeTo",$appendTo:"appendTo",$body:"body"});
j.events=new (h.require("ivideon.utils.Observable"))(j);j._destroyHandler=d.proxy(j.destroy,j);j._windowResizeHandler=d.proxy(j._onWindowResize,j);j._onScrollBindUnbind(true);j.$wrapper=d('<div class="h-indropdown"><div class="arrow"></div><div class="b-indropdown"></div></div>').hide().appendTo(j.$appendTo);
j.$wrapper.find(".b-indropdown").append(j.$body);j.updatePosition();j._setState(e.STATE_CREATED)}e.STATE_CREATED=1;e.STATE_VISIBLE=2;e.STATE_DESTROYED=3;e.defaults={appendTo:"body",offsetTop:0,offsetLeft:0,position:"absolute",zIndex:10000};
e.events=new (h.require("ivideon.utils.Observable"))(e);b.show=function(){var i=this;i._setState(e.STATE_VISIBLE);i.$wrapper.on("clickoutside touchmoveoutside touchstartoutside",i._destroyHandler).show();
d(c).on("resize",i._windowResizeHandler);i.$wrapper.css("visibility","hidden");i.$wrapper.css("visibility","inherit");i.scrollIntoView();i.events.fire("show")};b.updatePosition=function(){var i=this;i.$wrapper.css({zIndex:i._options.zIndex,position:i._options.position});
i._onWindowResize()};b.changeRelativeTo=function(i){var j=this;j._onScrollBindUnbind(false);j.$relativeTo=i.$relativeTo;j._onScrollBindUnbind(true);if(i.position){j._options.position=i.position}if(i.zIndex){j._options.zIndex=i.zIndex
}j.updatePosition()};b._onWindowResize=function(){var n=this,o,q,l=n.$relativeTo.offset(),t=n.$relativeTo.outerWidth()||0,r=n.$relativeTo.outerHeight()||0,k=n.$wrapper.outerWidth(),j=n.$wrapper.outerHeight(),i=10,m=30,p,s;
if(!l){return}n.$wrapper.parents(":not(html,body)").each(function(){var u=d(this),w=u.css("position"),v=u.offset();if(w==="absolute"||w==="fixed"){l.top-=v.top;l.left-=v.left}l.top+=u.scrollTop();l.left+=u.scrollLeft()
});l.right=l.left+t;o=l.top+r+i+n._options.offsetTop;q=l.left+(t/2)-(k/2)+n._options.offsetLeft;if(n._options.position==="fixed"){o-=d(c).scrollTop()}s=d(c.document).innerHeight();if(o+j>=s){o=l.top-j-i;
n.$wrapper.removeClass("bottom").addClass("top")}else{n.$wrapper.removeClass("top").addClass("bottom")}if(q<5){q=Math.min(Math.max(q,5),l.right);n.$wrapper.children(".arrow").css({left:l.left+(t/2)-q,right:"auto"});
n.$wrapper.addClass("flip-left")}else{n.$wrapper.removeClass("flip-left");p=d(c).width();if(q+k+5>=p){q=Math.max(Math.min(q,p-k-5),(l.right-m)-(k-m));n.$wrapper.children(".arrow").css({left:l.left+(t/2)-q,right:"auto"});
n.$wrapper.addClass("flip-right")}else{n.$wrapper.children(".arrow").css({left:"",right:""});n.$wrapper.removeClass("flip-right")}}n.$wrapper.css({top:o,left:q})};b.scrollIntoView=function(){var k=this,i,j;
if(!k.$wrapper.get(0).getBoundingClientRect){return}i=k.$wrapper.get(0).getBoundingClientRect();j=k.$wrapper.height();if(i.bottom>c.innerHeight&&c.innerHeight>j){d("html, body").animate({scrollTop:d(c).scrollTop()+j+10},"slow","easeInOutExpo")
}};b.destroy=function(){var j=this,i;if(j._state===e.STATE_DESTROYED){return}j._setState(e.STATE_DESTROYED);j.events.fire("destroying");j.events.un();j.$wrapper.off("clickoutside touchmoveoutside touchstartoutside",j._destroyHandler).remove();
d(c).off("resize",j._windowResizeHandler);j._onScrollBindUnbind(false);for(i in j){if(j.hasOwnProperty(i)&&i.charAt(0)==="$"){delete j[i]}}};b._setState=function(i){var j=this;if(!i){throw new h.utils.ArgumentError(g+'#_setState: Argument "state" not set.')
}if(j._state===e.STATE_DESTROYED){return}j._state=i};b._onScrollBindUnbind=function(j){var i=this;if(j){i.$scrollables=i.$relativeTo.parents(".ivideon-scrollable-wrapper");i.$scrollables.on("scroll",i._destroyHandler)
}else{i.$scrollables.off("scroll",i._destroyHandler)}}}(window,window._ivideon));(function(c,h,f){"use strict";var d=h.$,e=b,a=e.prototype,g="ivideon.views.EditableField";h.provide(g,e);function b(l){var n=this,k,m,j;
n._options=h.optMerge(e.defaults,l);if(n._options.preprocessor&&!d.isFunction(n._options.preprocessor)){throw new h.utils.ArgumentError(g+': Argument "options.preprocessor" is incorrect.')}if(n._options.validator&&!d.isFunction(n._options.validator)){throw new h.utils.ArgumentError(g+': Argument "options.validator" is incorrect.')
}if(n._options.setter&&!d.isFunction(n._options.setter)){throw new h.utils.ArgumentError(g+': Argument "options.setter" is incorrect.')}n._destroyed=false;n._validatorResult=false;n._isFocused=false;n._isPlaceholder=false;
n._isEditing=false;n._isInputmaskComplete=false;switch(n._options.type){case"textarea":n.$element=d("<textarea "+(n._options.speechEnabled?' x-webkit-speech="" x-webkit-grammar="builtin:search"':"")+' class="ivideon-editable-input '+(n._options.cssClassNames||"")+'" />').attr("title",n._options.tooltip);
n.$element.before(d("<label />").text(n._options.tooltip));break;case"password":case"email":case"text":n.$element=d('<input type="'+n._options.type+'" '+(n._options.speechEnabled?' x-webkit-speech="" x-webkit-grammar="builtin:search"':"")+' class="ivideon-editable-input '+(n._options.cssClassNames||"")+'" />').attr("title",n._options.tooltip);
break;case"select":n.$element=d('<select class="ivideon-editable-input '+(n._options.cssClassNames||"")+'" />');k=n._options.selectItems;if(!k||!k.length){throw new h.utils.ArgumentError(g+': Argument "options.selectItems" not set.')
}for(j=k.length,m=0;m<j;++m){d("<option />",k[m]).appendTo(n.$element)}break;default:throw new h.utils.ArgumentError(g+': Type "'+n._options.type+'" is not supported.')}if(n._options.inputmask&&n.$element.inputmask){n.$element.bind("mouseleave",function(i){i.stopImmediatePropagation()
}).on("focus",function(){c.clearTimeout(n._blurDelayedTimer);n._isFocused=true}).bind("keydown",function(i){i.stopPropagation();if(h.utils.isPrintableKey(i,true)){n._isPlaceholder=false;n._isEditing=true;
n.$element.removeClass("m-placeholder")}}).bind("keyup input cut paste"+(n._options.speechEnabled?" webkitspeechchange":""),function(){c.clearTimeout(n._inputDelayedTimer);n._inputDelayedTimer=c.setTimeout(function(){n._isEditing=true;
n._handleInput()},0)}).bind("blur",function(i){if(n._isFocused){n._isFocused=false;c.clearTimeout(n._blurDelayedTimer);n._blurDelayedTimer=c.setTimeout(function(){n._isEditing=false;n._handleInput()},100)
}i.stopImmediatePropagation()});n.$element.addClass("m-inputmask").inputmask(d.extend({},n._options.inputmask,{clearMaskOnLostFocus:false,onincomplete:function(){n._isInputmaskComplete=false;n._handleInput()
},oncomplete:function(){n._isInputmaskComplete=true;n._handleInput()},oncleared:function(){n._isInputmaskComplete=false;n._handleInput()}}));n._options.placeholder=n.$element.inputmask("getemptymask");
n.$element.addClass("m-placeholder").triggerHandler("mouseenter");if(n._options.placeholder&&!n._options.placeholderInValue){n.$element.attr("placeholder",n._options.placeholder)}}else{if(n._options.type==="select"){n.$element.bind("focus",function(){c.clearTimeout(n._blurDelayedTimer);
n._isFocused=true;n._isEditing=true}).bind("change",function(){n._handleInput()}).bind("blur",function(){if(n._isFocused){n._isFocused=false;c.clearTimeout(n._blurDelayedTimer);n._blurDelayedTimer=c.setTimeout(function(){n._isEditing=false;
n._handleInput()},100)}})}else{n._options.inputmask=null;n.$element.bind("focus",function(){c.clearTimeout(n._blurDelayedTimer);n._isFocused=true;if(n._isPlaceholder){n._isPlaceholder=false;n.$element.removeClass("m-placeholder m-success m-error");
if(n._options.placeholderInValue&&n.$element.val()){n.$element.val("")}}}).bind("keydown",function(i){i.stopPropagation()}).bind("keyup input cut paste"+(n._options.speechEnabled?" webkitspeechchange":""),function(){c.clearTimeout(n._inputDelayedTimer);
n._inputDelayedTimer=c.setTimeout(function(){n._isEditing=true;n._handleInput()},0)}).bind("blur",function(){if(n._isFocused){n._isFocused=false;c.clearTimeout(n._blurDelayedTimer);n._blurDelayedTimer=c.setTimeout(function(){n._isEditing=false;
n._handleInput()},100)}});if(n._options.placeholder&&!n._options.placeholderInValue){n.$element.attr("placeholder",n._options.placeholder)}n.display("",false)}}n._initResizeHandler();if(n.$element.qtip){n.$element.qtip({content:{text:" "},show:{event:false,effect:false},hide:{event:"click",fixed:true,effect:false},position:{my:"bottom center",at:"top center",viewport:d(c),adjust:{method:"shift flip",x:1,y:3},effect:false},style:{classes:"ui-tooltip-tipsy"}})
}if(n._options.value!==f){n.display(n._options.value,false)}}e.defaults={type:"text",cssClassNames:"",tooltip:"",placeholder:"",placeholderInValue:!c.Modernizr.input.placeholder,inputmask:null,speechEnabled:false,setterOnInputEnabled:false,preprocessor:function(i){return i
},validator:f,setter:function(){},context:null};a.getElement=function(){var i=this;return i.$element||d([])};a.isValid=function(){var i=this;return i._validatorResult};a.isFocused=function(){var i=this;
return i._isFocused};a.isEditing=function(){var i=this;return i._isEditing};a.finishEditing=function(){var i=this;if(i._isEditing){i.$element.trigger("blur");if(i._blurDelayedTimer){c.clearTimeout(i._blurDelayedTimer);
i._blurDelayedTimer=null}i._isFocused=false;if(i._inputDelayedTimer){c.clearTimeout(i._inputDelayedTimer);i._inputDelayedTimer=null}i._isEditing=false;i._handleInput();return true}return false};a.setEnabled=function(i){var j=this;
j.$element[i?"removeClass":"addClass"]("m-disabled").prop("disabled",!i)};a.showTooltip=function(i){var j=this;if(j.$element.qtip){if(i){j.$element.qtip("option","content.text",i);j.$element.qtip("toggle",true)
}else{j.$element.qtip("toggle",false)}}};a.val=function(j){var k=this,i;if(arguments.length===0){if(k._isPlaceholder){i=""}else{i=k.$element.val();i=k._options.preprocessor.call(k._options.context||k,i)
}}else{k.display(j,true)}return i};a.display=function(o,l){var p=this,k=p.$element,i=!p._isEditing,n=(typeof o!=="undefined"),m,j;if(n){p._isPlaceholder=(p._options.type!=="select"&&(o===""||o===null))
}else{if(!p._isPlaceholder){o=k.val()}}if(p._isPlaceholder){o="";p._validatorResult=(p._options.validator?p._options.validator.call(p._options.context||p,o):true)}else{o=p._options.preprocessor.call(p._options.context||p,o);
p._validatorResult=(p._options.validator?p._options.validator.call(p._options.context||p,o):true)}if(n){o=(o===null||o===f?"":String(o))}if(l){p._options.setter.call(p._options.context||p,o,p._validatorResult,i)
}if(p._isPlaceholder){h.utils.removeClassesFast(p.$element[0],["m-success","m-error"]);if(!p._options.inputmask&&i&&!p._isFocused){h.utils.addClassFast(p.$element[0],"m-placeholder");if(p._options.placeholderInValue){k.val(p._options.placeholder)
}else{if(k.val()!=o){k.val(o)}}}else{if(p._options.inputmask){h.utils.addClassFast(p.$element[0],"m-placeholder");k.triggerHandler("setvalue.inputmask")}else{h.utils.addClassFast(p.$element[0],"m-placeholder");
if(k.val()!=o){k.val(o)}}}}else{if(p._options.inputmask){m=k.prop("disabled");j=k.prop("readonly");if(m){k.prop("disabled",false)}if(j){k.prop("readonly",false)}}if(n&&k.val()!=o){k.val(o)}else{if(p._options.inputmask){k.triggerHandler("setvalue.inputmask")
}}if(m){k.prop("disabled",true)}if(j){k.prop("readonly",true)}if(p._validatorResult===true){h.utils.removeClassesFast(p.$element[0],["m-placeholder","m-error"]);if(p._options.validator&&(i||p._isInputmaskComplete)){h.utils.addClassFast(p.$element[0],"m-success")
}else{h.utils.removeClassFast(p.$element[0],"m-success")}}else{h.utils.removeClassesFast(p.$element[0],["m-placeholder","m-success"]);if(p._options.validator&&i){h.utils.addClassFast(p.$element[0],"m-error")
}else{h.utils.removeClassFast(p.$element[0],"m-error")}}}if(p._options.type==="textarea"){if(o.indexOf("\n")>=0||o.indexOf("\r")>=0){h.utils.removeClassFast(p.$element[0],"m-single-line");h.utils.addClassFast(p.$element[0],"m-multiline")
}else{h.utils.removeClassFast(p.$element[0],"m-multiline");h.utils.addClassFast(p.$element[0],"m-single-line")}}};a.destroy=function(){var i=this;if(i._destroyed){return}i._destroyed=true;if(i._inputDelayedTimer){c.clearTimeout(i._inputDelayedTimer);
i._inputDelayedTimer=null}if(i._blurDelayedTimer){c.clearTimeout(i._blurDelayedTimer);i._blurDelayedTimer=null}if(i._onMouseupResizeHandler){d(c.document).off("mouseup",i._onMouseupResizeHandler);i._onMouseupResizeHandler=null
}i.showTooltip(null);i.$element.remove();i.$element=null};a._handleInput=function(){var k=this,j=k.$element.val(),i=false;if(k._isEditing||(j===""||j===null)){k._isPlaceholder=(j===""||j===null)}if(!k._isEditing){i=true
}if(k._isEditing&&k._options.setterOnInputEnabled){i=true}k.display(f,i)};a._initResizeHandler=function(){var k=this,i,j;if(k._options.type==="textarea"){i=k.$element.outerWidth();j=k.$element.outerHeight();
d(c.document).on("mouseup",k._onMouseupResizeHandler=function(){var l=k.$element.outerWidth(),m=k.$element.outerHeight();if(l!==i||m!==j){i=l;j=m;k.$element.trigger("elementresize")}})}}}(window,window._ivideon));
(function(b,h,f){"use strict";var c=h.$,d=e,a=d.prototype,g="ivideon.views.ToggleSwitch";h.provide(g,d);function e(k){var x=this;x._destroyed=false;x._options=h.optClass(d.defaults,k,g,x,{$container:"container"});
if(x._options.toggle===true){x._options.toggle=2}x.events=new (h.require("ivideon.utils.Observable"))(x);x._id=("iv-switch-"+d._id);x._name=(x._options.name||x._id);d._id++;var u="",s="",B=[],p=x._options.items,w=(x._options.blockView===true),m=(x._options.fixedWidth!==false&&(typeof x._options.fixedWidth==="number"||x._options.fixedWidth.indexOf("%")!==-1)),v=false,y,n=0,z=false,t=h.utils.htmlencode(x._name);
c.each(x._options.items,function(D,i){B[D]=h.utils.htmlencode(i.id||x._id+"-"+D);var F=(typeof i.value==="undefined"?(""+D):(i.value||""));var E=(typeof x._options.value!=="undefined"&&F===x._options.value);
u+='<input class="iv-switch-input '+(i.classes||"")+'" id="'+B[D]+'" name="'+t+'" type="radio" value="'+h.utils.htmlencode(F)+'" '+(E?"checked":"")+' /><label class="iv-switch-input-label" for="'+B[D]+'" onclick=""  data-index="'+D+'">'+(i.label||"")+"</label>";
s+='<span class="iv-switch-stretcher-item">'+(i.label||"")+"</span>";++n;if(E){z=true}});x.$wrapper=c('<fieldset class="iv-switch iv-switch-ivideon '+(n>2?" iv-switch-"+n:"")+" "+(x._options.classes||"")+(w?" m-block-view":"")+'">'+(x._options.label?'<legend class="iv-switch-label">'+(x._options.label||"")+"</legend>":"")+'<div class="iv-switch-stretcher">'+s+"</div>"+u+'<span class="iv-switch-slide-button"></span></fieldset>');
if(w||m){var q=(100/n)+"%";x.$wrapper.find(".iv-switch-stretcher-item, .iv-switch-input-label").css({width:q})}if(m){x.$wrapper.css({width:x._options.fixedWidth})}if(w||(typeof x._options.fixedWidth==="string"&&x._options.fixedWidth.indexOf("%")!==-1)){c(b).on("resize orientationchange",function(i){x.updateSize()
})}x.$wrapper.appendTo(x.$container);x.$slideButton=x.$wrapper.find(".iv-switch-slide-button");if(!z){x.$wrapper.find("input:first").prop("checked",true)}for(y=(n-1);y>=0;y--){if(typeof p[y].caption!=="undefined"){v=true
}}if(x._options.customCaptionsEnabled===true&&v){var o=c('<label class="iv-switch-custom-caption" />'),l=c('<span class="iv-switch-custom-subcaption" />'),j="iv-switch-caption-block",C=((x._options.customCaptionsPosition==="bottom"||x._options.customCaptionsPosition==="top")?x._options.customCaptionsPosition:"bottom");
x.$wrapper.wrap(c('<div class="'+j+((w||m)?" m-block-view":"")+'"/>'));x.$customCaptionsWrapper=c('<div class="iv-switch-custom-captions-wrap m-'+C+(x._options.customCaptionsInvertedAlign===true?" m-inverted":"")+(x._options.customCaptionsMiddleAlign===true?" m-middle":"")+'" />');
x.$customSubcaptionsWrapper=c('<div class="iv-switch-custom-subcaptions-wrap"/>');for(y=0;y<=(n-1);y++){var r=o.clone().attr("for",B[y]),A=l.clone();r.html(p[y].caption).appendTo(x.$customCaptionsWrapper);
A.html(p[y].subcaption).appendTo(x.$customSubcaptionsWrapper)}x.$customCaptionsWrapper[(C==="bottom"?"appendTo":"prependTo")](x.$wrapper.closest("."+j));x.$customSubcaptionsWrapper[(C==="bottom"?"appendTo":"prependTo")](x.$wrapper.closest("."+j))
}x.updateSize();c(b).on("resize orientationchange",x._onWindowResizeHandler=c.proxy(x.updateSize,x));c(b).one("load",x._onWindowLoadHandler=c.proxy(x.updateSize,x));if(x._options.toggle>0&&n<=x._options.toggle){x.$wrapper.on(b.Modernizr.touch?"touchstart":"click","label",function(E){E.preventDefault();
var D=x.$wrapper.children("input:checked").nextAll("input:not(:checked)").eq(0),i;if(!D.length){D=x.$wrapper.children("input:not(:checked)").eq(0)}if(D.length){D.prop("checked",true);x.events.fire("switched",{name:x._name,value:D.val(),item:D[0]})
}x._moveSelection(x.$wrapper.find('[for="'+D.attr("id")+'"]'))})}x.$wrapper.on("change","input",function(D){var i=x.$wrapper.children("input:checked");x._moveSelection(x.$wrapper.find('[for="'+i.attr("id")+'"]'));
if(i.length){x.events.fire("switched",{name:x._name,value:i.val(),item:i[0]})}})}d.defaults={classes:"",name:"",label:"",value:f,fixedWidth:false,blockView:false,customCaptionsEnabled:false,customCaptionsMiddleAlign:false,customCaptionsInvertedAlign:false,customCaptionsPosition:"bottom",toggle:2,items:[]};
d._id=1;a.getElement=function(){return this.$wrapper||c([])};a.select=function(j){var k=this;if(k._destroyed){return}j=(j||"");var i=k.$wrapper.find("input");i.each(function(){var l=c(this);if(l.val()===j){if(!l.prop("checked")){l.prop("checked",true);
k.updateSize()}return false}})};a.destroy=function(){var i=this;if(i._destroyed){return}i._destroyed=true;i.events.fire("destroying");i.events.un();c(b).off("resize orientationchange",i._onWindowResizeHandler);
i._onWindowResizeHandler=null;c(b).off("load",i._onWindowLoadHandler);i._onWindowLoadHandler=null;i.$wrapper.remove();i.$wrapper=null;i.$container=null};a.updateSize=function(){var o=this;if(o._destroyed){return
}o.$slideButton.hide();o._moveSelection(o.$wrapper.find('[for="'+o.$wrapper.find("input:checked").attr("id")+'"]'));o.$slideButton.show();if(o._options.customCaptionsEnabled===true){var i=o.$wrapper.closest(".iv-switch-caption-block"),k=o.$wrapper.find(".iv-switch-input-label"),n=i.find(".iv-switch-custom-caption"),m=i.find(".iv-switch-custom-subcaption"),l={display:"none"},j={display:"inline-block"};
n.css(l);m.css(l);c.each(k,function(r,t){var q=c(t),p=q.data("index"),s={width:q.outerWidth()};n.eq(p).css(s);m.eq(p).css(s)});n.css(j);m.css(j)}};a._moveSelection=function(j){var k=this,i=c(j);if(k._destroyed){return
}if(k._options.customCaptionsEnabled===true){k.$customCaptionsWrapper.children().removeClass("m-active");c.each(k.$customCaptionsWrapper.children(),function(m,l){if(m===parseInt(i.data("index"),10)){c(l).addClass("m-active")
}})}k.$slideButton.css({width:i.outerWidth(),left:i.position().left})}}(window,window._ivideon));